\doxysection{pure\+\_\+param\+\_\+optimization.\+hpp}
\hypertarget{pure__param__optimization_8hpp_source}{}\label{pure__param__optimization_8hpp_source}\index{include/teqp/algorithms/pure\_param\_optimization.hpp@{include/teqp/algorithms/pure\_param\_optimization.hpp}}
\mbox{\hyperlink{pure__param__optimization_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00001}00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00003}00003\ \textcolor{preprocessor}{\#include\ <tuple>}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00004}00004\ \textcolor{preprocessor}{\#include\ <variant>}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00006}00006\ \textcolor{preprocessor}{\#include\ "{}nlohmann/json.hpp"{}}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00007}00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{teqpcpp_8hpp}{teqp/cpp/teqpcpp.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00008}00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{exceptions_8hpp}{teqp/exceptions.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00009}00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pow__templates_8hpp}{teqp/math/pow\_templates.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00010}00010\ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00011}00011\ \textcolor{preprocessor}{\#include\ <boost/asio/thread\_pool.hpp>}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00012}00012\ \textcolor{preprocessor}{\#include\ <boost/asio/post.hpp>}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00014}\mbox{\hyperlink{namespaceteqp_1_1algorithms_1_1pure__param__optimization}{00014}}\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceteqp_1_1algorithms_1_1pure__param__optimization}{teqp::algorithms::pure\_param\_optimization}}\ \{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00016}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPoint}{00016}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPoint}{SatRhoLPoint}}\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00017}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPoint_ae8304a7be2a658e39b3159e7195939d0}{00017}}\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPoint_aed65cb0e6d178cd7da65154cb763bd3c}{T}},\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPoint_ae8304a7be2a658e39b3159e7195939d0}{rhoL\_exp}},\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPoint_a087608f1f605c53111f36eb3438b0d41}{rhoL\_guess}},\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPoint_adc8843f71eb0c9370ba1f3fa6eb2594d}{rhoV\_guess}},\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPoint_a3ec12994f710c1ac8fbabc3bb46c6228}{weight}}=1.0;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00018}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPoint_a5ddfd37f059f98334b0991d00498ba8c}{00018}}\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPoint_a5ddfd37f059f98334b0991d00498ba8c}{check\_fields}}()\textcolor{keyword}{\ const}\{\}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00019}00019\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Model>}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00020}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPoint_afba29128d94d265c871cb728b4815323}{00020}}\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPoint_afba29128d94d265c871cb728b4815323}{calculate\_contribution}}(\textcolor{keyword}{const}\ Model\&\ model)\textcolor{keyword}{\ const}\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00021}00021\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ rhoLrhoV\ =\ model-\/>pure\_VLE\_T(\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPoint_aed65cb0e6d178cd7da65154cb763bd3c}{T}},\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPoint_a087608f1f605c53111f36eb3438b0d41}{rhoL\_guess}},\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPoint_adc8843f71eb0c9370ba1f3fa6eb2594d}{rhoV\_guess}},\ 10);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00022}00022\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::abs(rhoLrhoV[0]-\/\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPoint_ae8304a7be2a658e39b3159e7195939d0}{rhoL\_exp}})*\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPoint_a3ec12994f710c1ac8fbabc3bb46c6228}{weight}};}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00023}00023\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00024}00024\ \};}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00026}\mbox{\hyperlink{pure__param__optimization_8hpp_a25d2389a90b05f4cf4e375530cf89fee}{00026}}\ \textcolor{preprocessor}{\#define\ stdstringify(s)\ std::string(\#s)}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00028}\mbox{\hyperlink{pure__param__optimization_8hpp_a0633b5b6f4342d82e8e7322ddb148cd8}{00028}}\ \textcolor{preprocessor}{\#define\ PVTNoniterativePoint\_optionalfields\ X(T)\ X(rho\_exp)\ X(p\_exp)}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00029}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1PVTNoniterativePoint}{00029}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1PVTNoniterativePoint}{PVTNoniterativePoint}}\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00030}\mbox{\hyperlink{pure__param__optimization_8hpp_a51187164ce590e08467d4730e525a6b0}{00030}}\ \textcolor{preprocessor}{\ \ \ \ \#define\ X(field)\ std::optional<double>\ field;}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00031}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1PVTNoniterativePoint_a474a3b844d7bc13ba37f6c818adc4bea}{00031}}\ \ \ \ \ \mbox{\hyperlink{pure__param__optimization_8hpp_a0633b5b6f4342d82e8e7322ddb148cd8}{PVTNoniterativePoint\_optionalfields}}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00032}00032\ \textcolor{preprocessor}{\ \ \ \ \#undef\ X}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00033}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1PVTNoniterativePoint_a825f01951500b6c8c4ef24be72301b1b}{00033}}\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1PVTNoniterativePoint_a9f5080e446f5be03cb664f38ea286761}{weight}}=1.0,\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1PVTNoniterativePoint_a825f01951500b6c8c4ef24be72301b1b}{R}}=8.31446261815324;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00034}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1PVTNoniterativePoint_aa0944250e3f21b664374a82b0b1cb83e}{00034}}\ \ \ \ \ Eigen::ArrayXd\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1PVTNoniterativePoint_aa0944250e3f21b664374a82b0b1cb83e}{z}}\ =\ (Eigen::ArrayXd(1)\ <<\ 1.0).finished();}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00035}00035\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00036}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1PVTNoniterativePoint_aa707ae8d6997ce0fdee9396d1bef84f8}{00036}}\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1PVTNoniterativePoint_aa707ae8d6997ce0fdee9396d1bef84f8}{check\_fields}}()\textcolor{keyword}{\ const}\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00037}00037\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#define\ X(field)\ if\ (!field)\{\ throw\ teqp::InvalidArgument("{}A\ field\ ["{}\ +\ stdstringify(field)\ +\ "{}]\ has\ not\ been\ initialized"{});\ \}}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00038}00038\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pure__param__optimization_8hpp_a0633b5b6f4342d82e8e7322ddb148cd8}{PVTNoniterativePoint\_optionalfields}}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00039}00039\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#undef\ X}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00040}00040\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00041}00041\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00042}00042\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Model>}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00043}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1PVTNoniterativePoint_a743f768009d01b932fa5b46ce78c9c7d}{00043}}\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1PVTNoniterativePoint_a743f768009d01b932fa5b46ce78c9c7d}{calculate\_contribution}}(\textcolor{keyword}{const}\ Model\&\ model)\textcolor{keyword}{\ const}\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00044}00044\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ See\ for\ instance\ Eq.\ 17\ in\ https://doi.org/10.1063/5.0086060}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00045}00045\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ T\_\ =\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1PVTNoniterativePoint_a44e8b0e600e4e7cde2bfef0c749781bd}{T}}.value(),\ rho\_\ =\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1PVTNoniterativePoint_a4e69b906dc6c340d56710d58684a0391}{rho\_exp}}.value();}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00046}00046\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ Ar0n\ =\ model-\/>get\_Ar02n(T\_,\ rho\_,\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1PVTNoniterativePoint_aa0944250e3f21b664374a82b0b1cb83e}{z}});}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00047}00047\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ p\ =\ rho\_*\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1PVTNoniterativePoint_a825f01951500b6c8c4ef24be72301b1b}{R}}*T\_*(1+Ar0n[1]);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00048}00048\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ dpdrho\ =\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1PVTNoniterativePoint_a825f01951500b6c8c4ef24be72301b1b}{R}}*T\_*(1\ +\ 2*Ar0n[1]\ +\ Ar0n[2]);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00049}00049\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::abs((p-\/\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1PVTNoniterativePoint_a474a3b844d7bc13ba37f6c818adc4bea}{p\_exp}}.value())/\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1PVTNoniterativePoint_a4e69b906dc6c340d56710d58684a0391}{rho\_exp}}.value()/dpdrho)*\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1PVTNoniterativePoint_a9f5080e446f5be03cb664f38ea286761}{weight}};}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00050}00050\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00051}00051\ \};}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00053}\mbox{\hyperlink{pure__param__optimization_8hpp_a850c0cb548656e0e2559d0ad8b0f7305}{00053}}\ \textcolor{preprocessor}{\#define\ SatRhoLPPoint\_optionalfields\ X(T)\ X(p\_exp)\ X(rhoL\_exp)\ X(rhoL\_guess)\ X(rhoV\_guess)}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00054}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint}{00054}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint}{SatRhoLPPoint}}\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00055}00055\ \textcolor{preprocessor}{\ \ \ \ \#define\ X(field)\ std::optional<double>\ field;}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00056}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_abaa1885d269ebead9ea114d8fce4058f}{00056}}\ \ \ \ \ \mbox{\hyperlink{pure__param__optimization_8hpp_a850c0cb548656e0e2559d0ad8b0f7305}{SatRhoLPPoint\_optionalfields}}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00057}00057\ \textcolor{preprocessor}{\ \ \ \ \#undef\ X}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00058}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_ad491bd7c28222a16638ed2a63e910f5b}{00058}}\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_a14f73db0f5b6b40470a26d5aee1f2134}{weight\_rho}}=1.0,\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_a0b0f56ff7f38cafd62770e19ba4d5372}{weight\_p}}=1.0,\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_ad491bd7c28222a16638ed2a63e910f5b}{R}}=8.31446261815324;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00059}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_a705a26d2901bca7f5c981b20ee9dfeb3}{00059}}\ \ \ \ \ Eigen::ArrayXd\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_a705a26d2901bca7f5c981b20ee9dfeb3}{z}}\ =\ (Eigen::ArrayXd(1)\ <<\ 1.0).finished();}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00060}00060\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00061}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_a9c6e40063a2f0310220f3798d1b0bdd6}{00061}}\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_a9c6e40063a2f0310220f3798d1b0bdd6}{check\_fields}}()\textcolor{keyword}{\ const}\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00062}00062\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#define\ X(field)\ if\ (!field)\{\ throw\ teqp::InvalidArgument("{}A\ field\ ["{}\ +\ stdstringify(field)\ +\ "{}]\ has\ not\ been\ initialized"{});\ \}}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00063}00063\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pure__param__optimization_8hpp_a850c0cb548656e0e2559d0ad8b0f7305}{SatRhoLPPoint\_optionalfields}}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00064}00064\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#undef\ X}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00065}00065\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00066}00066\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00067}00067\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Model>}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00068}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_aa2411f12ee713885eb42aece3e61ee0b}{00068}}\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_aa2411f12ee713885eb42aece3e61ee0b}{calculate\_contribution}}(\textcolor{keyword}{const}\ Model\&\ model)\textcolor{keyword}{\ const}\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00069}00069\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ rhoLrhoV\ =\ model-\/>pure\_VLE\_T(\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_a2a8b6d77ed2d6298fb88cbcf226a4449}{T}}.value(),\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_a97dbd59a6887359488053cea5da17a1a}{rhoL\_guess}}.value(),\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_a9d9976d9944cce1da3d05496a58c0259}{rhoV\_guess}}.value(),\ 10);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00070}00070\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ rhoL\ =\ rhoLrhoV[0];}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00071}00071\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ p\ =\ rhoL*\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_ad491bd7c28222a16638ed2a63e910f5b}{R}}*\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_a2a8b6d77ed2d6298fb88cbcf226a4449}{T}}.value()*(1+model-\/>get\_Ar01(\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_a2a8b6d77ed2d6298fb88cbcf226a4449}{T}}.value(),\ rhoL,\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_a705a26d2901bca7f5c981b20ee9dfeb3}{z}}));}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00072}00072\ \textcolor{comment}{//\ \ \ \ \ \ \ \ std::cout\ <<\ p\ <<\ "{},"{}\ <<\ p\_exp\ <<\ "{},"{}\ <<\ (p\_exp-\/p)/p\_exp\ <<\ std::endl;}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00073}00073\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::abs(rhoL-\/\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_a5e9aac751255b046c0036f46f62e1c56}{rhoL\_exp}}.value())/\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_a5e9aac751255b046c0036f46f62e1c56}{rhoL\_exp}}.value()*\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_a14f73db0f5b6b40470a26d5aee1f2134}{weight\_rho}}\ +\ std::abs(p-\/\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_abaa1885d269ebead9ea114d8fce4058f}{p\_exp}}.value())/\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_abaa1885d269ebead9ea114d8fce4058f}{p\_exp}}.value()*\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPPoint_a0b0f56ff7f38cafd62770e19ba4d5372}{weight\_p}};}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00074}00074\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00075}00075\ \};}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00076}00076\ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00077}\mbox{\hyperlink{pure__param__optimization_8hpp_a238b4159a2c437f865a26d57ef025bf4}{00077}}\ \textcolor{preprocessor}{\#define\ SatRhoLPWPoint\_optionalfields\ X(T)\ X(p\_exp)\ X(rhoL\_exp)\ X(w\_exp)\ X(rhoL\_guess)\ X(rhoV\_guess)\ X(Ao20)\ X(M)\ X(R)}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00078}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint}{00078}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint}{SatRhoLPWPoint}}\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00079}00079\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00080}00080\ \textcolor{preprocessor}{\ \ \ \ \#define\ X(field)\ std::optional<double>\ field;}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00081}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_ad432991d8e62b63214f0e9d2bce40650}{00081}}\ \ \ \ \ \mbox{\hyperlink{pure__param__optimization_8hpp_a238b4159a2c437f865a26d57ef025bf4}{SatRhoLPWPoint\_optionalfields}}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00082}00082\ \textcolor{preprocessor}{\ \ \ \ \#undef\ X}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00083}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a3e6294c403d3647fab24072220cf3d96}{00083}}\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_acf594fd2c038d0670cf42cfedc99d942}{weight\_rho}}=1.0,\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a3e6294c403d3647fab24072220cf3d96}{weight\_p}}=1.0,\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a44dd82c921138f9ed7ad51c62e3f75d8}{weight\_w}}=1.0;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00084}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a41808ceb364ba6be0efa0baf70117050}{00084}}\ \ \ \ \ Eigen::ArrayXd\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a41808ceb364ba6be0efa0baf70117050}{z}}\ =\ (Eigen::ArrayXd(1)\ <<\ 1.0).finished();}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00085}00085\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00086}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a6de3db6b2026901516de8033c1050c42}{00086}}\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a6de3db6b2026901516de8033c1050c42}{check\_fields}}()\textcolor{keyword}{\ const}\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00087}00087\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#define\ X(field)\ if\ (!field)\{\ throw\ teqp::InvalidArgument("{}A\ field\ ["{}\ +\ stdstringify(field)\ +\ "{}]\ has\ not\ been\ initialized"{});\ \}}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00088}00088\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pure__param__optimization_8hpp_a238b4159a2c437f865a26d57ef025bf4}{SatRhoLPWPoint\_optionalfields}}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00089}00089\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#undef\ X}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00090}00090\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00091}00091\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00092}00092\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Model>}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00093}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_af748bca8c544c4cf7c4c385a852c4c45}{00093}}\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_af748bca8c544c4cf7c4c385a852c4c45}{calculate\_contribution}}(\textcolor{keyword}{const}\ Model\&\ model)\textcolor{keyword}{\ const}\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00094}00094\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00095}00095\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ rhoLrhoV\ =\ model-\/>pure\_VLE\_T(\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a5f4de090a20e3d1cb151b1036d4561b5}{T}}.value(),\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a4b5ee9757e2f21dd13f601a44fda6ff2}{rhoL\_guess}}.value(),\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a9f0c97d289f1c91455b52529ca02140b}{rhoV\_guess}}.value(),\ 10);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00096}00096\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00097}00097\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ First\ part,\ density}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00098}00098\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ rhoL\ =\ rhoLrhoV[0];}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00099}00099\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00100}00100\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ Ar0n\ =\ model-\/>get\_Ar02n(\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a5f4de090a20e3d1cb151b1036d4561b5}{T}}.value(),\ rhoL,\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a41808ceb364ba6be0efa0baf70117050}{z}});}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00101}00101\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ Ar01\ =\ Ar0n[1],\ Ar02\ =\ Ar0n[2];}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00102}00102\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ Ar11\ =\ model-\/>get\_Ar11(\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a5f4de090a20e3d1cb151b1036d4561b5}{T}}.value(),\ rhoL,\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a41808ceb364ba6be0efa0baf70117050}{z}});}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00103}00103\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ Ar20\ =\ model-\/>get\_Ar20(\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a5f4de090a20e3d1cb151b1036d4561b5}{T}}.value(),\ rhoL,\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a41808ceb364ba6be0efa0baf70117050}{z}});}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00104}00104\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00105}00105\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Second\ part,\ presure}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00106}00106\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ p\ =\ rhoL*\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_ac5543a8fc3a0ff1e92f5726d3de6ff2e}{R}}.value()*\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a5f4de090a20e3d1cb151b1036d4561b5}{T}}.value()*(1+Ar01);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00107}00107\ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00108}00108\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Third\ part,\ speed\ of\ sound}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00109}00109\ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00110}00110\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ M*w\string^2/(R*T)\ where\ w\ is\ the\ speed\ of\ sound}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00111}00111\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ from\ the\ definition\ w\ =\ sqrt(dp/drho|s)}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00112}00112\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ Mw2RT\ =\ 1\ +\ 2*Ar01\ +\ Ar02\ -\/\ \mbox{\hyperlink{namespaceteqp_a01b1fe27193906c0f3159b7ee15e2262}{POW2}}(1.0\ +\ Ar01\ -\/\ Ar11)/(\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_ad432991d8e62b63214f0e9d2bce40650}{Ao20}}.value()\ +\ Ar20);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00113}00113\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ w\ =\ sqrt(Mw2RT*\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_ac5543a8fc3a0ff1e92f5726d3de6ff2e}{R}}.value()*\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a5f4de090a20e3d1cb151b1036d4561b5}{T}}.value()/\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a23e9b6143f9cbdfad22e2c1e82e70e31}{M}}.value());}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00114}00114\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00115}00115\ \textcolor{comment}{//\ \ \ \ \ \ \ \ std::cout\ <<\ p\ <<\ "{},"{}\ <<\ p\_exp\ <<\ "{},"{}\ <<\ (p\_exp-\/p)/p\_exp\ <<\ std::endl;}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00116}00116\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ cost\_rhoL\ =\ std::abs(rhoL-\/\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a261eac4af0335b8ef531436a37219f6e}{rhoL\_exp}}.value())/\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a261eac4af0335b8ef531436a37219f6e}{rhoL\_exp}}.value()*\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_acf594fd2c038d0670cf42cfedc99d942}{weight\_rho}};}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00117}00117\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ cost\_p\ =\ std::abs(p-\/\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a9fe4c80198b15859cb96d95953236d7a}{p\_exp}}.value())/\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a9fe4c80198b15859cb96d95953236d7a}{p\_exp}}.value()*\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a3e6294c403d3647fab24072220cf3d96}{weight\_p}};}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00118}00118\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ cost\_w\ =\ std::abs(w-\/\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_ad03ac01b107bc86f7ab47682c65a25b4}{w\_exp}}.value())/\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_ad03ac01b107bc86f7ab47682c65a25b4}{w\_exp}}.value()*\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a44dd82c921138f9ed7ad51c62e3f75d8}{weight\_w}};}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00119}00119\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ((\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_acf594fd2c038d0670cf42cfedc99d942}{weight\_rho}}\ !=\ 0)\ ?\ cost\_rhoL\ :\ 0)\ +\ ((\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a3e6294c403d3647fab24072220cf3d96}{weight\_p}}\ !=\ 0)\ ?\ cost\_p\ :\ 0)\ +\ ((\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SatRhoLPWPoint_a44dd82c921138f9ed7ad51c62e3f75d8}{weight\_w}}\ !=\ 0)\ ?\ cost\_w\ :\ 0);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00120}00120\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00121}00121\ \};}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00122}00122\ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00123}\mbox{\hyperlink{pure__param__optimization_8hpp_a813f6cdc3f80e3ca8be587af2ae64ccf}{00123}}\ \textcolor{preprocessor}{\#define\ SOSPoint\_fields\ X(T)\ X(p\_exp)\ X(rho\_guess)\ X(w\_exp)\ X(Ao20)\ X(M)\ X(R)}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00124}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint}{00124}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint}{SOSPoint}}\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00125}00125\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00126}00126\ \textcolor{preprocessor}{\ \ \ \ \#define\ X(field)\ std::optional<double>\ field;}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00127}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_abbe7418a0af9978138cdfea4e536e22f}{00127}}\ \ \ \ \ \mbox{\hyperlink{pure__param__optimization_8hpp_a813f6cdc3f80e3ca8be587af2ae64ccf}{SOSPoint\_fields}}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00128}00128\ \textcolor{preprocessor}{\ \ \ \ \#undef\ X}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00129}00129\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00130}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_a9061552900207cf65c9808519e22c986}{00130}}\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_a9061552900207cf65c9808519e22c986}{weight\_w}}=1.0;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00131}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_a9ec546cadf52d25a4882f2166ee15f68}{00131}}\ \ \ \ \ Eigen::ArrayXd\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_a9ec546cadf52d25a4882f2166ee15f68}{z}}\ =\ (Eigen::ArrayXd(1)\ <<\ 1.0).finished();}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00132}00132\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00133}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_ab71c14eacde433fadf05c0b74466934c}{00133}}\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_ab71c14eacde433fadf05c0b74466934c}{check\_fields}}()\textcolor{keyword}{\ const}\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00134}00134\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#define\ X(field)\ if\ (!field)\{\ throw\ teqp::InvalidArgument("{}A\ field\ ["{}\ +\ stdstringify(field)\ +\ "{}]\ has\ not\ been\ initialized"{});\ \}}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00135}00135\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{pure__param__optimization_8hpp_a813f6cdc3f80e3ca8be587af2ae64ccf}{SOSPoint\_fields}}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00136}00136\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#undef\ X}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00137}00137\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00138}00138\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00139}00139\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Model>}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00140}\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_a7582cbd9549a950b2ce07a862d0dc584}{00140}}\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_a7582cbd9549a950b2ce07a862d0dc584}{calculate\_contribution}}(\textcolor{keyword}{const}\ Model\&\ model)\textcolor{keyword}{\ const}\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00141}00141\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00142}00142\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ rho\ =\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_a94f13fbac6a393ed09a60ddc113882d2}{rho\_guess}}.value();}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00143}00143\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ R\_\ =\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_a8cc4eee3b60856a3548b5ace068c9bc5}{R}}.value();}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00144}00144\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ T\_K\_\ =\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_a1e8fd838a50e8c5bde5700029c7fc7d2}{T}}.value();}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00145}00145\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00146}00146\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ First\ part,\ iterate\ for\ density}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00147}00147\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ...}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00148}00148\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ step\ =\ 0;\ step\ <\ 10;\ ++step)\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00149}00149\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ Ar0n\ =\ model-\/>get\_Ar02n(T\_K\_,\ rho,\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_a9ec546cadf52d25a4882f2166ee15f68}{z}});}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00150}00150\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ Ar01\ =\ Ar0n[1],\ Ar02\ =\ Ar0n[2];}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00151}00151\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ pEOS\ =\ rho*R\_*T\_K\_*(1+Ar01);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00152}00152\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ dpdrho\ =\ R\_*T\_K\_*(1\ +\ 2*Ar0n[1]\ +\ Ar0n[2]);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00153}00153\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ res\ =\ (pEOS-\/\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_afce42b855f2de7dabb5a66ef444b453f}{p\_exp}}.value())/\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_afce42b855f2de7dabb5a66ef444b453f}{p\_exp}}.value();}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00154}00154\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ dresdrho\ =\ dpdrho/\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_afce42b855f2de7dabb5a66ef444b453f}{p\_exp}}.value();}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00155}00155\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ change\ =\ -\/res/dresdrho;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00156}00156\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (std::abs(change/rho-\/1)\ <\ 1e-\/10\ ||\ abs(res)\ <\ 1e-\/12)\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00157}00157\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00158}00158\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00159}00159\ \ \ \ \ \ \ \ \ \ \ \ \ rho\ +=\ change;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00160}00160\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00161}00161\ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00162}00162\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Second\ part,\ speed\ of\ sound}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00163}00163\ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00164}00164\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ Ar0n\ =\ model-\/>get\_Ar02n(T\_K\_,\ rho,\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_a9ec546cadf52d25a4882f2166ee15f68}{z}});}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00165}00165\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ Ar01\ =\ Ar0n[1],\ Ar02\ =\ Ar0n[2];}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00166}00166\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ Ar11\ =\ model-\/>get\_Ar11(T\_K\_,\ rho,\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_a9ec546cadf52d25a4882f2166ee15f68}{z}});}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00167}00167\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ Ar20\ =\ model-\/>get\_Ar20(T\_K\_,\ rho,\ \mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_a9ec546cadf52d25a4882f2166ee15f68}{z}});}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00168}00168\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00169}00169\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ M*w\string^2/(R*T)\ where\ w\ is\ the\ speed\ of\ sound}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00170}00170\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ from\ the\ definition\ w\ =\ sqrt(dp/drho|s)}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00171}00171\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ Mw2RT\ =\ 1.0\ +\ 2.0*Ar01\ +\ Ar02\ -\/\ \mbox{\hyperlink{namespaceteqp_a01b1fe27193906c0f3159b7ee15e2262}{POW2}}(1.0\ +\ Ar01\ -\/\ Ar11)/(\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_abbe7418a0af9978138cdfea4e536e22f}{Ao20}}.value()\ +\ Ar20);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00172}00172\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ w\ =\ sqrt(Mw2RT*R\_*T\_K\_/\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_a427386aeacc653096ee1b84d038e1ed2}{M}}.value());}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00173}00173\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ cost\_w\ =\ std::abs(w-\/\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_a7c0679946f85f9dfdad1a2fe78a3bd61}{w\_exp}}.value())/\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_a7c0679946f85f9dfdad1a2fe78a3bd61}{w\_exp}}.value()*\mbox{\hyperlink{structteqp_1_1algorithms_1_1pure__param__optimization_1_1SOSPoint_a9061552900207cf65c9808519e22c986}{weight\_w}};}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00174}00174\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ cost\_w;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00175}00175\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00176}00176\ \};}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00177}00177\ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00178}\mbox{\hyperlink{namespaceteqp_1_1algorithms_1_1pure__param__optimization_a85b3afb4f6532c886de6acc135e2cf98}{00178}}\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceteqp_1_1algorithms_1_1pure__param__optimization_a85b3afb4f6532c886de6acc135e2cf98}{PureOptimizationContribution}}\ =\ std::variant<SatRhoLPoint,\ SatRhoLPPoint,\ SatRhoLPWPoint,\ SOSPoint,\ PVTNoniterativePoint>;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00179}00179\ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00180}\mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer}{00180}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer}{PureParameterOptimizer}}\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00181}00181\ \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00182}00182\ \ \ \ \ \textcolor{keyword}{auto}\ make\_pointers(\textcolor{keyword}{const}\ std::vector<std::variant<std::string,\ std::vector<std::string>>>\&\ pointerstrs)\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00183}00183\ \ \ \ \ \ \ \ \ std::vector<std::vector<nlohmann::json::json\_pointer>>\ pointers\_;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00184}00184\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ \&\ pointer:\ pointerstrs)\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00185}00185\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (std::holds\_alternative<std::string>(pointer))\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00186}00186\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\&\ s=\ std::get<std::string>(pointer);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00187}00187\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pointers\_.emplace\_back(1,\ nlohmann::json::json\_pointer(s));}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00188}00188\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00189}00189\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00190}00190\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<nlohmann::json::json\_pointer>\ buffer;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00191}00191\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ s\ :\ std::get<std::vector<std::string>>(pointer))\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00192}00192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ buffer.emplace\_back(s);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00193}00193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00194}00194\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pointers\_.push\_back(buffer);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00195}00195\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00196}00196\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00197}00197\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ pointers\_;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00198}00198\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00199}00199\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00200}\mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a0b1bd2b4e2c339068863fa2a33922990}{00200}}\ \ \ \ \ \textcolor{keyword}{const}\ nlohmann::json\ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a0b1bd2b4e2c339068863fa2a33922990}{jbase}};}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00201}\mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_ad41536ff95d1b432ba4170f575c52a76}{00201}}\ \ \ \ \ std::vector<std::vector<nlohmann::json::json\_pointer>>\ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_ad41536ff95d1b432ba4170f575c52a76}{pointers}};}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00202}\mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a06a83752e1e32e7221a92998dc433008}{00202}}\ \ \ \ \ std::vector<PureOptimizationContribution>\ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a06a83752e1e32e7221a92998dc433008}{contributions}};}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00203}00203\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00204}\mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a9cce2b314f0113a918ace490eed0d519}{00204}}\ \ \ \ \ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a9cce2b314f0113a918ace490eed0d519}{PureParameterOptimizer}}(\textcolor{keyword}{const}\ nlohmann::json\ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a0b1bd2b4e2c339068863fa2a33922990}{jbase}},\ \textcolor{keyword}{const}\ std::vector<std::variant<std::string,\ std::vector<std::string>>>\&\ pointerstrs)\ :\ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a0b1bd2b4e2c339068863fa2a33922990}{jbase}}(\mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a0b1bd2b4e2c339068863fa2a33922990}{jbase}}),\ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_ad41536ff95d1b432ba4170f575c52a76}{pointers}}(make\_pointers(pointerstrs))\{\}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00205}00205\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00206}\mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a2b90ff7cf2f54f710e18366643797b09}{00206}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a2b90ff7cf2f54f710e18366643797b09}{add\_one\_contribution}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceteqp_1_1algorithms_1_1pure__param__optimization_a85b3afb4f6532c886de6acc135e2cf98}{PureOptimizationContribution}}\&\ cont)\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00207}00207\ \ \ \ \ \ \ \ \ std::visit([](\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&c)\{c.check\_fields();\},\ cont);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00208}00208\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a06a83752e1e32e7221a92998dc433008}{contributions}}.push\_back(cont);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00209}00209\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00210}00210\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00211}\mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a7ce9c55239c6d66a0d27e6676daf7aab}{00211}}\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a7ce9c55239c6d66a0d27e6676daf7aab}{prepare\_helper\_models}}(\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ model)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00212}00212\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::vector<double>\{1,\ 3\};}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00213}00213\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00214}00214\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00215}00215\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00216}\mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a3c5af70e87335cc85629cc61d10f8442}{00216}}\ \ \ \ \ nlohmann::json\ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a3c5af70e87335cc85629cc61d10f8442}{build\_JSON}}(\textcolor{keyword}{const}\ T\&\ x)\textcolor{keyword}{\ const}\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00217}00217\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00218}00218\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (x.size()\ !=\ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_ad41536ff95d1b432ba4170f575c52a76}{pointers}}.size())\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00219}00219\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{classteqp_1_1InvalidArgument}{teqp::InvalidArgument}}(\textcolor{stringliteral}{"{}sizes\ don't\ match"{}});}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00220}00220\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00221}00221\ \ \ \ \ \ \ \ \ nlohmann::json\ j\ =\ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a0b1bd2b4e2c339068863fa2a33922990}{jbase}};}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00222}00222\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ i\ =\ 0;\ i\ <\ x.size();\ ++i)\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00223}00223\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ ptr\ :\ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_ad41536ff95d1b432ba4170f575c52a76}{pointers}}[i])\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00224}00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ j.at(ptr)\ =\ x[i];}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00225}00225\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00226}00226\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00227}00227\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ j;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00228}00228\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00229}00229\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00230}00230\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00231}\mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a0d41f7d1a552fc4bad5442e1d743888f}{00231}}\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a0d41f7d1a552fc4bad5442e1d743888f}{prepare}}(\textcolor{keyword}{const}\ T\&\ x)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00232}00232\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ j\ =\ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a3c5af70e87335cc85629cc61d10f8442}{build\_JSON}}(x);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00233}00233\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ model\ =\ \mbox{\hyperlink{namespaceteqp_1_1cppinterface_a0e731ebdf104bc67dc7832e33a523d4f}{teqp::cppinterface::make\_model}}(j);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00234}00234\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ helpers\ =\ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a7ce9c55239c6d66a0d27e6676daf7aab}{prepare\_helper\_models}}(model);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00235}00235\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::make\_tuple(std::move(model),\ helpers);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00236}00236\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00237}00237\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00238}00238\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00239}\mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a24a509fb9a8463a2f3330f8a31e6072f}{00239}}\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a24a509fb9a8463a2f3330f8a31e6072f}{cost\_function}}(\textcolor{keyword}{const}\ T\&\ x)\textcolor{keyword}{\ const}\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00240}00240\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ [\_model,\ \_helpers]\ =\ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a0d41f7d1a552fc4bad5442e1d743888f}{prepare}}(x);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00241}00241\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ model\ =\ \_model;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00242}00242\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ helpers\ =\ \_helpers;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00243}00243\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ cost\ =\ 0.0;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00244}00244\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ contrib\ :\ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a06a83752e1e32e7221a92998dc433008}{contributions}})\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00245}00245\ \ \ \ \ \ \ \ \ \ \ \ \ cost\ +=\ std::visit([\&model](\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ c)\{\ \textcolor{keywordflow}{return}\ c.calculate\_contribution(model);\ \},\ contrib);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00246}00246\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00247}00247\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!std::isfinite(cost))\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00248}00248\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1e30;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00249}00249\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00250}00250\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ cost;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00251}00251\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00252}00252\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00253}00253\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00254}\mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a2993f26c7aa9629924128030985d6989}{00254}}\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a2993f26c7aa9629924128030985d6989}{cost\_function\_threaded}}(\textcolor{keyword}{const}\ T\&\ x,\ std::size\_t\ Nthreads)\ \{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00255}00255\ \ \ \ \ \ \ \ \ boost::asio::thread\_pool\ pool\{Nthreads\};\ \textcolor{comment}{//\ Nthreads\ in\ the\ pool}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00256}00256\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ [\_model,\ \_helpers]\ =\ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a0d41f7d1a552fc4bad5442e1d743888f}{prepare}}(x);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00257}00257\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ model\ =\ \_model;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00258}00258\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ helpers\ =\ \_helpers;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00259}00259\ \ \ \ \ \ \ \ \ std::valarray<double>\ buffer(\mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a06a83752e1e32e7221a92998dc433008}{contributions}}.size());}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00260}00260\ \ \ \ \ \ \ \ \ std::size\_t\ i\ =\ 0;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00261}00261\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ contrib\ :\ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a06a83752e1e32e7221a92998dc433008}{contributions}})\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00262}00262\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\&\ dest\ =\ buffer[i];}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00263}00263\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ payload\ =\ [\&model,\ \&dest,\ contrib]\ ()\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00264}00264\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dest\ =\ std::visit([\&model](\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ c)\{\ \textcolor{keywordflow}{return}\ c.calculate\_contribution(model);\ \},\ contrib);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00265}00265\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!std::isfinite(dest))\{\ dest\ =\ 1e30;\ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00266}00266\ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00267}00267\ \ \ \ \ \ \ \ \ \ \ \ \ boost::asio::post(pool,\ payload);}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00268}00268\ \ \ \ \ \ \ \ \ \ \ \ \ i++;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00269}00269\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00270}00270\ \ \ \ \ \ \ \ \ pool.join();}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00271}00271\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ summer\ =\ 0.0;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00272}00272\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{classteqp_1_1algorithms_1_1pure__param__optimization_1_1PureParameterOptimizer_a06a83752e1e32e7221a92998dc433008}{contributions}}.size();\ ++i)\{}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00273}00273\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ buffer[i]\ <<\ std::endl;}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00274}00274\ \ \ \ \ \ \ \ \ \ \ \ \ summer\ +=\ buffer[i];}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00275}00275\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00276}00276\ \textcolor{comment}{//\ \ \ \ \ \ \ \ std::cout\ <<\ summer\ <<\ std::endl;}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00277}00277\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ summer;}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00278}00278\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00279}00279\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00280}00280\ \};}
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00281}00281\ }
\DoxyCodeLine{\Hypertarget{pure__param__optimization_8hpp_source_l00282}00282\ \}}

\end{DoxyCode}
